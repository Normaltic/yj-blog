---
title: tailwind-merge로 TailwindCSS 클래스 중복 제거하기
date: 2025-07-01 17:00:00
summary: 컴포넌트에 className를 전달했는데 적용이 되지 않는다..!
---

진행하고 있는 사이드 프로젝트는 Next.js 기반으로, TailwindCSS를 사용해 스타일을 적용하고 있다.

최근 중복된 코드를 제거하기 위해 특정 기능을 컴포넌트로 분리하는 작업을 진행했다. 컴포넌트의 스타일을 정의하고, 추가적인 스타일을 적용할 수 있도록 `className`을 전달 받을 수 있게 하였다. 그런데, 컴포넌트에 `className`을 전달해도 적용이 잘 되지 않는 문제가 발생했다. TailwindCSS의 클래스가 중복되어 발생하는 문제였다.

TailwindCSS는 필요한 스타일들을 클래스로 미리 정의해두고, 약속된 클래스 이름을 사용해 스타일을 적용하는 방식이다. 그런데 `className`에 여러 클래스를 전달할 때 중복된 클래스가 있을 경우, `className`에 적용된 순서와 상관 없이 TailwindCSS에 작성되어 있는 클래스의 순서에 따라 스타일이 적용된다. 이로 인해, 컴포넌트에 전달한 `className`이 무시되는 경우가 발생한다.

이 글에서는, TailwindCSS에서 발생하는 클래스 중복 문제를 알아보고, 이를 해결하기 위해 `tailwind-merge` 라이브러리를 사용하는 방법을 소개한다.

### TailwindCSS 클래스 중복 문제

TailwindCSS는 유틸리티 클래스 기반의 CSS 프레임워크로, 특정 스타일에 대한 클래스들을 미리 정의해두고, 클래스 이름들을 조합해 스타일을 구성할 수 있다. 예를 들어, `bg-white`, `text-sm`, `rounded-md` 처럼 각각의 속성을 나타내는 클래스들을 조합하여 UI를 표현할 수 있다.

```tsx
<div className="bg-white text-sm rounded-md px-2 py-1">Hello, World!</div>
```

위에 적용된 스타일은 아래와 같다.

- `bg-white`: 배경색을 흰색으로 설정
- `text-sm`: 글자 크기를 작게 설정
- `rounded-md`: 테두리를 중간 정도로 둥글게 설정
- `px-2`: 좌우 패딩을 0.5rem으로 설정
- `py-1`: 상하 패딩을 0.25rem으로 설정

이처럼 예약된 클래스 이름을 사용하여 스타일을 적용하는 방식은, 별도의 CSS를 작성하지 않아도 되고, 익숙해진다면 매우 직관적이며 빠르게 UI를 구성할 수 있다. 실제로 TailwindCSS를 사용하는 이유중 하나도 생산성에 있다.

하지만, 중복된 클래스가 있을 경우에는 예상하지 못한 결과가 발생할 수 있다. 예를 들어, 아래와 같이 `className`에 중복된 클래스가 있을 경우를 생각해보자.

```tsx "bg-white" "bg-gray-100"
<div className="bg-white text-sm rounded-md px-2 py-1 bg-gray-100">
  Hello, World!
</div>
```

배경색에 `white`와 `gray-100` 클래스가 중복되어 있는데, 이 경우 어떤 것이 적용되는지 예측할 수 없다. 어떤 것이 적용될까?

![사진 1) 정답은 흰색이 적용된다](../images/using_tailwindcss_with_tailwind_merge/background_not_working.png)

정답은 white가 적용됨.

그렇다면 앞에 있는 것이 먼저 적용되는 것일까? 아마 위치를 바꿔도 동일하게 white가 적용될 것이다.

물론 이건 좀 극단적인 예시고, 같은 속성의 클래스를 할당하는 것은 대부분 실수일 것이기 때문에 하나를 지워주면 된다. VSCode 기준 TailwindCSS IntelliSense가 적용되어 있다면, 친절하게 중복 안내도 해준다.

하지만, 컴포넌트로 추상화한 경우에는 상황이 달라진다. 컴포넌트에 `className`을 전달했는데, 해당 클래스가 적용되지 않는 경우가 발생할 수 있다. 예를 들어, 아래와 같은 컴포넌트를 생각해보자.

```tsx
export type ButtonProps = React.ButtonHTMLAttributes<HTMLButtonElement>;

function Button({ className, ...props }: ButtonProps) {
  return (
    <button
      className={`${className} bg-blue-500 text-white px-4 py-2 rounded`}
      {...props}
    ></button>
  );
}
```

해당 컴포넌트는 파란색 배경에 흰색 글씨, 패딩과 테두리를 둥글게 설정한 버튼이다. 프로젝트에서 해당 컴포넌트를 범용적으로 사용하고 있었는데, 특정 구간에서 버튼의 패딩을 변경하고 싶었다. 그래서 아래와 같이 `className`을 전달했다.

```tsx
<Button className="px-2">Click Me</Button>
```

하지만, 버튼의 패딩이 변경되지 않는다.

![사진 2) px-2가 적용되지 않는다](../images/using_tailwindcss_with_tailwind_merge/padding_not_working.png)

### CSS Cascading

CSS Cascading 에 대한 설명

상속과 우선순위에 대한 설명

CSS 중요도

CSS 명시도

CSS 선언 순서

다시 돌아와서, 결국 TailwindCSS의 CSS 선언 순서에 따라 스타일이 결정된다.

### tailwind-merge

이를 해결하기 위해 `tailwind-merge` 라이브러리를 사용할 수 있음

설치법

사용법 - txMerge

사용법 - txJoin

### Custom class 적용하기

커스텀 클래스를 정상적으로 인식하지 않는 문제

예시

이건 설정을 확장해야 함

확장하는 방법

### 주의 사항

`tailwind-merge`의 문서에는 라이브러리의 장단점을 소개한 글도 있다.

### 마치며

이 글에서는 TailwindCSS를 사용할 때 발생할 수 있는 문제와, `tailwind-merge` 라이브러리를 활용한 해결 방법에 대해 알아보았다.

처음 이 문제를 접했을 때에는 어떻게 해결해야 할지, 컴포넌트를 성급하게 추상화 한 것은 아닌지 고민했다. 실제로 라이브러리의 단점에서도 언급하던 부분으로, 컴포넌트의 정해진 스타일을 수정한다는 행위가 올바른지에 대해서 한 번 생각해볼 수 있었다.

결국, 상황에 따라서 필요할 경우 사용하면 되지 않을까 싶다. 디자인 시스템에서 정해진 부분이라면(예: 카드의 `padding`은 `0.5rem`이다.) 굳이 부모에서 동일한 스타일을 할당할 일은 없을 것 같기 때문이다. 하지만 필요한 경우가 있을 경우, 라이브러리 도입을 검토해볼 수 있겠다.

### 참고

- 링크1
- 링크2

```

```
